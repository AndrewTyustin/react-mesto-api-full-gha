{"ast":null,"code":"import _classCallCheck from\"C:/Users/EPIX/Desktop/praktikum/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/EPIX/Desktop/praktikum/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";var AuthApi=/*#__PURE__*/function(){function AuthApi(apiAddress){_classCallCheck(this,AuthApi);this._authUrl=apiAddress;}_createClass(AuthApi,[{key:\"_processingServerResponse\",value:function _processingServerResponse(res){if(res.ok){return res.json();}else{return Promise.reject(\"\\u043A\\u043E\\u0434 \\u043E\\u0448\\u0438\\u0431\\u043A\\u0438: \".concat(res.status));}}},{key:\"tokenVerification\",value:function tokenVerification(token){return fetch(\"\".concat(this._authUrl,\"users/me\"),{headers:{\"Content-Type\":\"application/json\",authorization:\"Bearer \".concat(token)}}).then(this._processingServerResponse);}},{key:\"userAuthorization\",value:function userAuthorization(password,email){return fetch(\"\".concat(this._authUrl,\"signin\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({password:password,email:email})}).then(this._processingServerResponse).then(function(userData){if(userData.token){localStorage.setItem(\"token\",userData.token);}});}},{key:\"userRegistration\",value:function userRegistration(password,email){return fetch(\"\".concat(this._authUrl,\"signup\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({password:password,email:email})}).then(this._processingServerResponse);}}]);return AuthApi;}();var apiAuth=new AuthApi(\"https://api.andrewtyust.students.nomoredomains.monster/\");export default apiAuth;","map":{"version":3,"names":["AuthApi","apiAddress","_authUrl","res","ok","json","Promise","reject","status","token","fetch","headers","authorization","then","_processingServerResponse","password","email","method","body","JSON","stringify","userData","localStorage","setItem","apiAuth"],"sources":["C:/Users/EPIX/Desktop/praktikum/react-mesto-api-full-gha/frontend/src/utils/AuthApi.js"],"sourcesContent":["class AuthApi {\r\n  constructor(apiAddress) {\r\n    this._authUrl = apiAddress;\r\n  }\r\n  _processingServerResponse(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    } else {\r\n      return Promise.reject(`код ошибки: ${res.status}`);\r\n    }\r\n  }\r\n  tokenVerification(token) {\r\n    return fetch(`${this._authUrl}users/me`, {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        authorization: `Bearer ${token}`,\r\n      },\r\n    }).then(this._processingServerResponse);\r\n  }\r\n  userAuthorization(password, email) {\r\n    return fetch(`${this._authUrl}signin`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ password, email }),\r\n    })\r\n      .then(this._processingServerResponse)\r\n      .then((userData) => {\r\n        if (userData.token) {\r\n          localStorage.setItem(\"token\", userData.token);\r\n        }\r\n      });\r\n  }\r\n  userRegistration(password, email) {\r\n    return fetch(`${this._authUrl}signup`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ password, email }),\r\n    }).then(this._processingServerResponse);\r\n  }\r\n}\r\n\r\nconst apiAuth = new AuthApi(\"https://api.andrewtyust.students.nomoredomains.monster/\");\r\nexport default apiAuth;\r\n"],"mappings":"+SAAMA,QAAO,yBACX,iBAAYC,UAAU,CAAE,+BACtB,IAAI,CAACC,QAAQ,CAAGD,UAAU,CAC5B,CAAC,6DACD,mCAA0BE,GAAG,CAAE,CAC7B,GAAIA,GAAG,CAACC,EAAE,CAAE,CACV,MAAOD,IAAG,CAACE,IAAI,EAAE,CACnB,CAAC,IAAM,CACL,MAAOC,QAAO,CAACC,MAAM,oEAAgBJ,GAAG,CAACK,MAAM,EAAG,CACpD,CACF,CAAC,iCACD,2BAAkBC,KAAK,CAAE,CACvB,MAAOC,MAAK,WAAI,IAAI,CAACR,QAAQ,aAAY,CACvCS,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClCC,aAAa,kBAAYH,KAAK,CAChC,CACF,CAAC,CAAC,CAACI,IAAI,CAAC,IAAI,CAACC,yBAAyB,CAAC,CACzC,CAAC,iCACD,2BAAkBC,QAAQ,CAAEC,KAAK,CAAE,CACjC,MAAON,MAAK,WAAI,IAAI,CAACR,QAAQ,WAAU,CACrCe,MAAM,CAAE,MAAM,CACdN,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDO,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEL,QAAQ,CAARA,QAAQ,CAAEC,KAAK,CAALA,KAAM,CAAC,CAC1C,CAAC,CAAC,CACCH,IAAI,CAAC,IAAI,CAACC,yBAAyB,CAAC,CACpCD,IAAI,CAAC,SAACQ,QAAQ,CAAK,CAClB,GAAIA,QAAQ,CAACZ,KAAK,CAAE,CAClBa,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEF,QAAQ,CAACZ,KAAK,CAAC,CAC/C,CACF,CAAC,CAAC,CACN,CAAC,gCACD,0BAAiBM,QAAQ,CAAEC,KAAK,CAAE,CAChC,MAAON,MAAK,WAAI,IAAI,CAACR,QAAQ,WAAU,CACrCe,MAAM,CAAE,MAAM,CACdN,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDO,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEL,QAAQ,CAARA,QAAQ,CAAEC,KAAK,CAALA,KAAM,CAAC,CAC1C,CAAC,CAAC,CAACH,IAAI,CAAC,IAAI,CAACC,yBAAyB,CAAC,CACzC,CAAC,uBAGH,GAAMU,QAAO,CAAG,GAAIxB,QAAO,CAAC,yDAAyD,CAAC,CACtF,cAAewB,QAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}